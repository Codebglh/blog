<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>通幽子怀</title>
        <subtitle></subtitle>
        <icon>http://bglh.xyz/images/favicon.ico</icon>
        <link>http://bglh.xyz</link>
        <author>
          <name>通幽子怀</name>
        </author>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Wed, 03 Mar 2021 17:29:25 +0800</pubDate>
        <lastBuildDate>Wed, 03 Mar 2021 17:29:25 +0800</lastBuildDate>
        <item>
            <guid isPermalink="true">http://bglh.xyz/python/scarpy/</guid>
            <title>scarpy框架</title>
            <link>http://bglh.xyz/python/scarpy/</link>
            <category term="爬虫" scheme="http://bglh.xyz/categories/python/" />
            <pubDate>Wed, 03 Mar 2021 17:29:25 +0800</pubDate>
            <description><![CDATA[ &lt;h6 id=&#34;1-安装scrapy框架&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1-安装scrapy框架&#34;&gt;#&lt;/a&gt; 1、安装 scrapy 框架&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip install scrapy&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;2-创建虚拟环境&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2-创建虚拟环境&#34;&gt;#&lt;/a&gt; 2、创建虚拟环境&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;python &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;m venv &lt;span class=&#34;token operator&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#为名字&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;3-创建一个爬虫框架&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3-创建一个爬虫框架&#34;&gt;#&lt;/a&gt; 3、创建一个爬虫框架&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;scrapy startproject xxxx&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;项目名字&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;4-创建一个爬虫&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#4-创建一个爬虫&#34;&gt;#&lt;/a&gt; 4、创建一个爬虫&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;cd xxxx&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;项目名字&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;scrapy genspider xxx（爬虫名字） xxx（网站域名）   &lt;span class=&#34;token comment&#34;&gt;#创建爬虫&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;5-修改settingpy文件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#5-修改settingpy文件&#34;&gt;#&lt;/a&gt; 5、修改 setting.py 文件&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;USER_AGENT &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;#请求头&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;LOG_LEVEL &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;WARNING&#34;&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#报错等级提高简单错误不显示&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ROBOTSTXT_OBEY &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#是否遵守爬虫协议改为否 (原因你懂的)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;CONCURRENT_REQUESTS &lt;span class=&#34;token comment&#34;&gt;#一次允许的最大请求数&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;DOWNLOAD_DELAY &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#设置下载延迟时间，因而使得爬虫更像是人的行为，避免 IP 被屏蔽&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;DOWNLOADER_MIDDLEWARES &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token string&#34;&gt;&#39;xymtest.middlewares.XymtestDownloaderMiddleware&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;543&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#设置下载中间键&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ITEM_PIPELINES &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;   &lt;span class=&#34;token string&#34;&gt;&#39;xymtest.pipelines.XymtestPipeline&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;300&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#设置管道&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;HTTPCACHE_ENABLED &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;True&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;HTTPCACHE_EXPIRATION_SECS &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;HTTPCACHE_DIR &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;httpcache&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;HTTPCACHE_IGNORE_HTTP_CODES &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;HTTPCACHE_STORAGE &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;scrapy.extensions.httpcache.FilesystemCacheStorage&#39;&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#取消最后几行的注释&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;6-修改itemspy文件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#6-修改itemspy文件&#34;&gt;#&lt;/a&gt; 6、修改 items.py 文件&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;url&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;scrapy&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;Field&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;7-修改pipelinespy文件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#7-修改pipelinespy文件&#34;&gt;#&lt;/a&gt; 7、修改 pipelines.py 文件&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;下载文件&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;8-编写爬虫文件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#8-编写爬虫文件&#34;&gt;#&lt;/a&gt; 8、编写爬虫文件&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; scrapy&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; tu&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;items &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; TuItem&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token comment&#34;&gt;# import Request&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;TSpider&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;scrapy&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;Spider&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;t&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    allowed_domains &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;wallhaven.cc&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    start_urls &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;https://wallhaven.cc/toplist?page=&amp;#123;a&amp;#125;&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; a &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;parse&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; response&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        y &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; response&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;xpath&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;//body/main/div/section/ul&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; y&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            k&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;xpath&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;./li/figure/a/@href&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extract&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            item &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; TuItem&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            item&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;url&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;k&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token keyword&#34;&gt;yield&lt;/span&gt; Request&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;k&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; meta&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;item&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; item&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; callback &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;parse1&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;parse1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;response&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        item &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; response&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;meta&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;item&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        y&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;response&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;xpath&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;//body/main/section/div/img/@src&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extract&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;yield&lt;/span&gt; item&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;9-安装xpath谷歌插件xpath语法&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#9-安装xpath谷歌插件xpath语法&#34;&gt;#&lt;/a&gt; 9、安装 xpath 谷歌插件 xpath 语法&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;//&lt;/span&gt;chrome&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;google&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;com&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;webstore&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;detail&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;hgimnogjllphhhkhlmebbmlgjoejdpjl&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;10-运行爬虫&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#10-运行爬虫&#34;&gt;#&lt;/a&gt; 10、运行爬虫&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;cd xxxx&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;项目名字&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;scrapy crawl xx&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;爬虫名字&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;#运行爬虫&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;11-请求头包&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#11-请求头包&#34;&gt;#&lt;/a&gt; 11、请求头包&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip install fake_useragent &lt;span class=&#34;token comment&#34;&gt;#安装包&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; fake_useragent &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; UserAgent&lt;span class=&#34;token comment&#34;&gt;#导入包&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;s&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;UserAgent&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;verify_ssl&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token boolean&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;random&lt;span class=&#34;token comment&#34;&gt;#运用包&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; fake_useragent &lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; UserAgent &lt;span class=&#34;token comment&#34;&gt;# 版本 &#39;0.1.11&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;s&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;UserAgent&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;verify_ssl&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token boolean&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;random&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;s&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;11-二级访问链接&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#11-二级访问链接&#34;&gt;#&lt;/a&gt; 11、二级访问链接&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;TSpider&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;scrapy&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;Spider&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    name &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;t&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    allowed_domains &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;wallhaven.cc&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    start_urls &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;https://wallhaven.cc/toplist?page=&amp;#123;a&amp;#125;&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; a &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;135&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;parse&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; response&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        y &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; response&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;xpath&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;//body/main/div/section/ul&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; y&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            k&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;i&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;xpath&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;./li/figure/a/@href&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extract&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            o&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;k&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; x &lt;span class=&#34;token keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;o&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                a&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;k&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;x&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;   &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;                &lt;span class=&#34;token keyword&#34;&gt;yield&lt;/span&gt; scrapy&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;Request&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;a&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; callback &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;parse_detail&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;parse_detail&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;response&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        y&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;response&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;xpath&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;//body/main/section/div/img/@src&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;extract&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        item &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; TuItem&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        item&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#34;url&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;y&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;yield&lt;/span&gt; item&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;12-图片下载中间件自带settingspyitemspy&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#12-图片下载中间件自带settingspyitemspy&#34;&gt;#&lt;/a&gt; 12、&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3huLS1zZXR0aW5ncy10MzlsNGtoMGYzeTRidGl2ZG44ZHg5NmJybjViNTd3LnB5&#34;&gt;图片下载中间件自带 settings.py&lt;/span&gt;，&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2l0ZW1zLnB5&#34;&gt;items.py&lt;/span&gt;&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ITEM_PIPELINES&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token string&#34;&gt;&#39;scrapy.pipelines.images.ImagesPipeline&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;201&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;IMAGES_STORE&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;#图片路径&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h6 id=&#34;13-数据存到数据库&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#13-数据存到数据库&#34;&gt;#&lt;/a&gt; 13、数据存到数据库&lt;/h6&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;TuPipeline1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;__init__&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# 连接 MySQL 数据库&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;connect&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;pymysql&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;connect&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;127.0.0.1&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;user&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;root&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;password&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;liuhonga&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;db&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;tupian&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;port&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;3306&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cursor&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;connect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cursor&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;process_item&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; item&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; spider&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token comment&#34;&gt;# 往数据库里面写入数据&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cursor&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;execute&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;insert into tupian(tupian)VALUES (&#34;&amp;#123;&amp;#125;&#34;)&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;item&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;image_urls&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;connect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;commit&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token comment&#34;&gt;# 关闭数据库&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;close_spider&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;self&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;spider&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;cursor&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;close&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        self&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;connect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;close&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h5 id=&#34;14&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#14&#34;&gt;#&lt;/a&gt; 14&lt;/h5&gt;
&lt;h1 id=&#34;导入pymysql模块&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#导入pymysql模块&#34;&gt;#&lt;/a&gt; 导入 pymysql 模块&lt;/h1&gt;
&lt;p&gt;import pymysql&lt;/p&gt;
&lt;h1 id=&#34;连接database&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#连接database&#34;&gt;#&lt;/a&gt; 连接 database&lt;/h1&gt;
&lt;p&gt;conn = pymysql.connect(host=“localhost”, user=“root”,password=“liuhonga”,database=“img”,charset=“utf8”)&lt;/p&gt;
&lt;h1 id=&#34;得到一个可以执行sql语句的光标对象&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#得到一个可以执行sql语句的光标对象&#34;&gt;#&lt;/a&gt; 得到一个可以执行 SQL 语句的光标对象&lt;/h1&gt;
&lt;p&gt;cursor = conn.cursor()&lt;/p&gt;
&lt;h1 id=&#34;查询数据的sql语句&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#查询数据的sql语句&#34;&gt;#&lt;/a&gt; 查询数据的 SQL 语句&lt;/h1&gt;
&lt;p&gt;sql = “SELECT url,_image from img;”&lt;/p&gt;
&lt;h1 id=&#34;执行sql语句&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#执行sql语句&#34;&gt;#&lt;/a&gt; 执行 SQL 语句&lt;/h1&gt;
&lt;p&gt;cursor.execute(sql)&lt;/p&gt;
&lt;h1 id=&#34;获取多条查询数据&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#获取多条查询数据&#34;&gt;#&lt;/a&gt; 获取多条查询数据&lt;/h1&gt;
&lt;p&gt;ret = cursor.fetchall()&lt;br&gt;
cursor.close()&lt;br&gt;
conn.close()&lt;br&gt;
print(ret)&lt;/p&gt;
&lt;p&gt;显示 Mac 隐藏文件的命令&lt;/p&gt;
&lt;p&gt;defaults write com.apple.finder AppleShowAllFiles -bool true&lt;br&gt;
killall Finder&lt;/p&gt;
&lt;p&gt;隐藏 Mac 隐藏文件的命令&lt;br&gt;
 defaults write com.apple.finder AppleShowAllFiles -bool false&lt;br&gt;
killall Finder&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://bglh.xyz/hexo/%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/</guid>
            <title>主题开发</title>
            <link>http://bglh.xyz/hexo/%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91/</link>
            <category term="博客" scheme="http://bglh.xyz/categories/hexo/" />
            <category term="Hexo" scheme="http://bglh.xyz/tags/Hexo/" />
            <category term="教程" scheme="http://bglh.xyz/tags/%E6%95%99%E7%A8%8B/" />
            <pubDate>Wed, 03 Mar 2021 09:06:25 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;hexo主题开发&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hexo主题开发&#34;&gt;#&lt;/a&gt; hexo 主题开发&lt;/h1&gt;
&lt;h3 id=&#34;1hexo-结构&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1hexo-结构&#34;&gt;#&lt;/a&gt; 1.hexo 结构&lt;/h3&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;├── _config.yml       // 总体的配置文件&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;├── node_modules      // NodeJs 所依赖的包，后期也可以自己添加插件&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;├── package&lt;span class=&#34;token punctuation&#34;&gt;-&lt;/span&gt;lock.json // 支持 hexo 运行的 NodeJs 包&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;├── package.json      // 自定义的 NodeJs 包&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;├── scaffolds         // Hexo Markdown 加载时的关键字，如data&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;title等&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;它会在启动的时候默认加载&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;├── source            // md 源文件目录&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;└── themes            // 主题文件夹&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    └── landscape     // 默认主题&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;2主题结构&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2主题结构&#34;&gt;#&lt;/a&gt; 2. 主题结构&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;    └── bg	                // 自建的主题目录
        ├── _config.yml     // 主题配置文件
        ├── layout          // 主要构造 html 的模板
        │   ├── index.ejs   // 主页模板
        │   ├── layout.ejs  // 布局模板
        │   └── post.ejs    // md 编译成 html 后的文件模板
        └── source          // 静态资源文件目录
            ├── css         // css 样式目录
            └── js          // JavaScript 脚本目录
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3&#34;&gt;#&lt;/a&gt; 3.&lt;/h3&gt;
&lt;h3 id=&#34;4&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#4&#34;&gt;#&lt;/a&gt; 4.&lt;/h3&gt;
&lt;h3 id=&#34;5&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#5&#34;&gt;#&lt;/a&gt; 5.&lt;/h3&gt;
&lt;h3 id=&#34;6&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#6&#34;&gt;#&lt;/a&gt; 6.&lt;/h3&gt;
&lt;h3 id=&#34;7&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#7&#34;&gt;#&lt;/a&gt; 7.&lt;/h3&gt;
&lt;h3 id=&#34;8&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#8&#34;&gt;#&lt;/a&gt; 8.&lt;/h3&gt;
&lt;h3 id=&#34;9&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#9&#34;&gt;#&lt;/a&gt; 9.&lt;/h3&gt;
&lt;p&gt;显示 Mac 隐藏文件的命令&lt;/p&gt;
&lt;p&gt;defaults write com.apple.finder AppleShowAllFiles -bool true&lt;br&gt;
killall Finder&lt;/p&gt;
&lt;p&gt;隐藏 Mac 隐藏文件的命令&lt;br&gt;
 defaults write com.apple.finder AppleShowAllFiles -bool false&lt;br&gt;
killall Finder&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://bglh.xyz/python/python.pip/</guid>
            <title>pip下载更改数据源</title>
            <link>http://bglh.xyz/python/python.pip/</link>
            <category term="爬虫" scheme="http://bglh.xyz/categories/python/" />
            <pubDate>Wed, 03 Mar 2021 08:58:25 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;mac-修改pip-镜像源&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#mac-修改pip-镜像源&#34;&gt;#&lt;/a&gt; Mac 修改 pip 镜像源&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;进入根目录： &lt;code&gt;cd ~/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;进入.pip 目录  &lt;code&gt;cd .pip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;如果不存在文件夹就新建 &lt;code&gt;mkdir .pip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;进入  &lt;code&gt;cd .pip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;创建 pip.conf 文件  &lt;code&gt;touch pip.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;修改： &lt;code&gt;vim pip.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;暂时&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#暂时&#34;&gt;#&lt;/a&gt; 暂时&lt;/h2&gt;
&lt;figure class=&#34;highlight cpp&#34;&gt;&lt;figcaption data-lang=&#34;C++&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip install&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;i https&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token comment&#34;&gt;//pypi.douban.com/simple&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;永久修改内容&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#永久修改内容&#34;&gt;#&lt;/a&gt; 永久修改内容：&lt;/h2&gt;
&lt;figure class=&#34;highlight csharp&#34;&gt;&lt;figcaption data-lang=&#34;C#&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;global&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;index&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;url&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;mirrors&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;aliyun&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;com&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;pypi&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;simple&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token attribute&#34;&gt;&lt;span class=&#34;token class-name&#34;&gt;install&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;trusted&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;host&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;mirrors&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;aliyun&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;com&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight csharp&#34;&gt;&lt;figcaption data-lang=&#34;C#&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;global&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;timeout &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;6000&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;index&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;url &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;pypi&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;douban&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;com&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;simple&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt; &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token attribute&#34;&gt;&lt;span class=&#34;token class-name&#34;&gt;install&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;use&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;mirrors &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;mirrors &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; https&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;pypi&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;douban&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;com&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt;simple&lt;span class=&#34;token operator&#34;&gt;/&lt;/span&gt; &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;trusted&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;host &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; pypi&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;douban&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;com&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h1 id=&#34;国内源&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#国内源&#34;&gt;#&lt;/a&gt; 国内源：&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tLz90PWh0dHA6Ly9weXBpLmRvdWJhbi5jb20v&#34;&gt;http://pypi.douban.com/&lt;/span&gt; 豆瓣&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tLz90PWh0dHA6Ly9weXBpLmh1c3R1bmlxdWUuY29tLw==&#34;&gt;http://pypi.hustunique.com/&lt;/span&gt; 华中理工大学&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tLz90PWh0dHA6Ly9weXBpLnNkdXRsaW51eC5vcmcv&#34;&gt;http://pypi.sdutlinux.org/&lt;/span&gt; 山东理工大学&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9saW5rLmppYW5zaHUuY29tLz90PWh0dHA6Ly9weXBpLm1pcnJvcnMudXN0Yy5lZHUuY24v&#34;&gt;http://pypi.mirrors.ustc.edu.cn/&lt;/span&gt; 中国科学技术大学&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;列出当前安装的包：&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip3 &lt;span class=&#34;token builtin&#34;&gt;list&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;列出可升级的包：&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip3 &lt;span class=&#34;token builtin&#34;&gt;list&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;outdate&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;升级一个包：&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip3 install &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;upgrade requests  &lt;span class=&#34;token operator&#34;&gt;//&lt;/span&gt; mac&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;linux&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;unix 在命令前加 sudo &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;H&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;升级所有可升级的包：&lt;/p&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ pip3 freeze &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;local &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;v &lt;span class=&#34;token string&#34;&gt;&#39;^-e&#39;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; cut &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;d &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;f &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; xargs &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;n1 pip3 install &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;U&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight python&#34;&gt;&lt;figcaption data-lang=&#34;python&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;pip3 &lt;span class=&#34;token builtin&#34;&gt;list&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;o &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;format&lt;/span&gt; legacy&lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt;awk &lt;span class=&#34;token string&#34;&gt;&#39;&amp;#123;print $1&amp;#125;&#39;&lt;/span&gt;` &lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; do pip install &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;upgrade $i&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt; done&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://bglh.xyz/python/mysql%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6/</guid>
            <title>数据库管理</title>
            <link>http://bglh.xyz/python/mysql%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6/</link>
            <category term="爬虫" scheme="http://bglh.xyz/categories/python/" />
            <pubDate>Wed, 03 Mar 2021 08:53:25 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;mac-上的-mysql-管理工具-sequel-pro&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#mac-上的-mysql-管理工具-sequel-pro&#34;&gt;#&lt;/a&gt; &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAwNjI1NTkyMw==&#34;&gt;Mac 上的 MySQL 管理工具 – Sequel Pro&lt;/span&gt;&lt;/h1&gt;
&lt;p&gt;Sequel Pro 是 Mac 用户常用的 MySQL 管理软件，属于开源项目 CocoaMySQL 的一个分支。它支持包括索引在内的所有表管理功能，支持 MySQL 视图，可以同时使用多个窗口来操作多个数据库 / 表。完全可以媲美大家熟悉的 phpMyadmin。&lt;/p&gt;
&lt;p&gt;Sequel Pro 的部分特性如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;操作快速，简单。通过简单的几个参数设定即可连接本地或远程 MySQL。&lt;/li&gt;
&lt;li&gt;支持多窗口操作。在不同的个窗口中，对多数据库实施操作。&lt;/li&gt;
&lt;li&gt;SQL 语句的语法彩色、加亮显示。&lt;/li&gt;
&lt;li&gt;SQL 语句的关键字、表名、字段名的自动完成。&lt;/li&gt;
&lt;li&gt;支持 30 多种不同的字符编码。&lt;/li&gt;
&lt;li&gt;快速导入 / 恢复、导出 / 备份 SQL 及 CSV 格式的数据。&lt;/li&gt;
&lt;li&gt;兼容 MySQL3、4、5。&lt;/li&gt;
&lt;li&gt;支持在 MAMP/XAMP 架构上连接数据库，支持 SSH 连接模式；&lt;/li&gt;
&lt;li&gt;免费使用，当然，如果你觉得不错，可以 Donate 支持一下作者。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;通过-root-连接数据库&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#通过-root-连接数据库&#34;&gt;#&lt;/a&gt; 通过 root 连接数据库&lt;/h2&gt;
&lt;p&gt;新建数据库和用户需要用到数据库的 root 用户权限，所以，我们用 root 进行登录，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApCt&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;建立数据库&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#建立数据库&#34;&gt;#&lt;/a&gt; 建立数据库&lt;/h2&gt;
&lt;p&gt;点击  &lt;code&gt;Choose Database&lt;/code&gt; -&amp;gt;  &lt;code&gt;Add Database&lt;/code&gt;  创建数据库&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApBQ&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;字符集选择默认的  &lt;code&gt;utf-8&lt;/code&gt;  即可。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApBR&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;建立数据库用户&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#建立数据库用户&#34;&gt;#&lt;/a&gt; 建立数据库用户&lt;/h2&gt;
&lt;p&gt;点击右上角 &lt;code&gt;User&lt;/code&gt; ，弹出下面用户操作对话框，建立 web 用户&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApBU&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;给刚才新建的  &lt;code&gt;laravel&lt;/code&gt;  数据库赋予权限，此处权限全选了，大家也可以有目的的选择权限：&lt;br&gt;
&lt;img data-src=&#34;https://segmentfault.com/img/bVApBV&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;用新建-web-用户连接-laravel-数据库&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#用新建-web-用户连接-laravel-数据库&#34;&gt;#&lt;/a&gt; 用新建 web 用户连接 laravel 数据库&lt;/h2&gt;
&lt;p&gt;首先，退出用 root 登陆的 sequel pro，再重新打开。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApB1&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;如果非新建数据库界面，可以点击 &lt;code&gt;1&lt;/code&gt;  添加收藏夹，下次可以直接点击该处进行连接；&lt;/li&gt;
&lt;li&gt;默认数据库连接方式为 &lt;code&gt;Standard&lt;/code&gt;  标准模式，大家也可以选用 &lt;code&gt;Socket&lt;/code&gt;  或 &lt;code&gt;SSH&lt;/code&gt;  方式。选好方式，按照提示输入服务器、用户名、密码和数据库名，若端口有修改，输入端口号；&lt;/li&gt;
&lt;li&gt;点 &lt;code&gt;3&lt;/code&gt;   &lt;code&gt;Add to Favorites&lt;/code&gt;  则在 &lt;code&gt;4&lt;/code&gt;  处会新增一个数据库连接收藏，点 &lt;code&gt;Save changes&lt;/code&gt;  则保存到当前收藏；&lt;/li&gt;
&lt;li&gt;点击 &lt;code&gt;5&lt;/code&gt;   &lt;code&gt;Connect&lt;/code&gt;  连接数据库。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;增加-编辑-删除数据表&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#增加-编辑-删除数据表&#34;&gt;#&lt;/a&gt; 增加、编辑、删除数据表&lt;/h2&gt;
&lt;p&gt;这部分和 phpMyadmin 等都类似，就不展开来介绍了，大概功能区如下图：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApB8&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;删除数据库&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#删除数据库&#34;&gt;#&lt;/a&gt; 删除数据库&lt;/h2&gt;
&lt;p&gt;貌似没有图形化删除数据库的地方，不过可以在 &lt;code&gt;Query&lt;/code&gt;  选项下，执行&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;drop database dbname
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;进行删除，下面以删除 laravel 数据库为例，执行后，状态栏显示无错误，右上角数据库状态回到  &lt;code&gt;choose database&lt;/code&gt; 。点开就会看到已找不到 laravel 数据库。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApBP&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;用-laravel-的-artisan-工具建立和更新数据表&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#用-laravel-的-artisan-工具建立和更新数据表&#34;&gt;#&lt;/a&gt; 用 laravel 的 artisan 工具建立和更新数据表&lt;/h2&gt;
&lt;h3 id=&#34;laravel-连接配置&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#laravel-连接配置&#34;&gt;#&lt;/a&gt; laravel 连接配置&lt;/h3&gt;
&lt;p&gt;找到项目  &lt;code&gt;.env&lt;/code&gt;  文件，修改下面几个参数&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApCj&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;migrate-文件编辑&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#migrate-文件编辑&#34;&gt;#&lt;/a&gt; migrate 文件编辑&lt;/h3&gt;
&lt;p&gt;找到 database/migrations 目录，查看或编辑目录下的 migrate 文件&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApCk&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;一般内容如下所示，调整为你需要的内容即可：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApCm&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;命令行执行-migrate-操作&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#命令行执行-migrate-操作&#34;&gt;#&lt;/a&gt; 命令行执行 migrate 操作&lt;/h3&gt;
&lt;p&gt;命令行模式进入项目根目录，执行下面命令，则数据库就会按照几个 migrate 文件要求，执行数据库操作。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;php artisan migrate
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;数据库查看-migrate-命令执行结果&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#数据库查看-migrate-命令执行结果&#34;&gt;#&lt;/a&gt; 数据库查看 migrate 命令执行结果&lt;/h3&gt;
&lt;p&gt;我们用 sequel pro 连接数据库，可以看到操作后如下：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://segmentfault.com/img/bVApCo&#34; alt=&#34;clipboard.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;可见数据库和用户建立成功，项目已能正常连接数据库。&lt;/p&gt;
&lt;h2 id=&#34;答用户问&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#答用户问&#34;&gt;#&lt;/a&gt; 答用户问&lt;/h2&gt;
&lt;h3 id=&#34;如何调整主键&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#如何调整主键&#34;&gt;#&lt;/a&gt; 如何调整主键&lt;/h3&gt;
&lt;p&gt;点到 Query 选项卡&lt;/p&gt;
&lt;h4 id=&#34;1-如果原先没有主键且需要增加的字段为-not-null可以执行下列命令&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1-如果原先没有主键且需要增加的字段为-not-null可以执行下列命令&#34;&gt;#&lt;/a&gt; 1. 如果原先没有主键，且需要增加的字段为 not null，可以执行下列命令&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;ALTER TABLE `users` ADD PRIMARY KEY ( `name` )
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-如果原先主键已存在目的是改变主键则执行如下步骤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2-如果原先主键已存在目的是改变主键则执行如下步骤&#34;&gt;#&lt;/a&gt; 2. 如果原先主键已存在，目的是改变主键，则执行如下步骤&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;如果原主键有外键依赖，要先删除外键依赖；&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;alter table `FK_Table` drop foreign key FK_Name;（FK_Table 为有外键关系的表，FK_Name 为外键约束名）
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;如果原主键为自动递增，要先去掉自动递增：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;alter table `users` modify `id` int(10) unsigned NOT NULL;（根据实际字段属性来）
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;再删除主键&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;alter table `users` drop primary key;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;然后再增加主键&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;alter table `users` add primary key(`name`);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL3QvbXlzcWw=&#34;&gt;mysql&lt;/span&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://bglh.xyz/hexo/hexo%E7%AE%80%E4%BB%8B/</guid>
            <title>hexo简介</title>
            <link>http://bglh.xyz/hexo/hexo%E7%AE%80%E4%BB%8B/</link>
            <category term="博客" scheme="http://bglh.xyz/categories/hexo/" />
            <pubDate>Sun, 12 Apr 2020 20:46:25 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;用hexo搭建一个静态站点&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#用hexo搭建一个静态站点&#34;&gt;#&lt;/a&gt; 用 hexo 搭建一个静态站点&lt;/h1&gt;
&lt;h3 id=&#34;1下载必须文件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1下载必须文件&#34;&gt;#&lt;/a&gt; 1. 下载必须文件&lt;/h3&gt;
&lt;p&gt;A.&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==&#34;&gt;nodejs&lt;/span&gt;&lt;br&gt;
B.&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2dpdC1zY20uY29tLw==&#34;&gt;git&lt;/span&gt;&lt;br&gt;
C.hexo&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ &lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; -g hexo-cli&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;2创建一个文件夹并在此文件夹中打开终端初始化hexo创建网页&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2创建一个文件夹并在此文件夹中打开终端初始化hexo创建网页&#34;&gt;#&lt;/a&gt; 2. 创建一个文件夹并在此文件夹中打开终端初始化 hexo 创建网页&lt;/h3&gt;
&lt;p&gt;第一步：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ hexo init			&lt;span class=&#34;token comment&#34;&gt;#初始化文件夹&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;第二步：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ hexo g      	&lt;span class=&#34;token comment&#34;&gt;#编译文件&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ hexo s				&lt;span class=&#34;token comment&#34;&gt;#本地部署&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ hexo d				&lt;span class=&#34;token comment&#34;&gt;#部署网页&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ hexo server		&lt;span class=&#34;token comment&#34;&gt;#本地部署但不生成文件可修改看变化&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;$ hexo clean		&lt;span class=&#34;token comment&#34;&gt;#清除垃圾文件&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h3 id=&#34;3部署&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3部署&#34;&gt;#&lt;/a&gt; 3. 部署&lt;/h3&gt;
&lt;p&gt;A. 部署到服务器&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; gcc -y							  &lt;span class=&#34;token comment&#34;&gt;#先安装好 Nginx 安装环境&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; pcre pcre-devel -y&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;yum &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; zlib zlib-devel -y&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; http://nginx.org/download/nginx-1.16.0.tar.gz      &lt;span class=&#34;token comment&#34;&gt;#下载&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;tar&lt;/span&gt; zxvf nginx-1.16.0.tar.gz&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; nginx-1.16.0./configure --prefix&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/usr/local/nginx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;./configure --prefix&lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt;/usr/local/nginx &lt;span class=&#34;token comment&#34;&gt;#编译&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;make&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;make&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt;  &lt;span class=&#34;token comment&#34;&gt;#安装&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; /usr/local/nginx/sbin/./nginx B.  &lt;span class=&#34;token comment&#34;&gt;#启动 nginx&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-deployer-sftp --save  &lt;span class=&#34;token comment&#34;&gt;#首先得在 hexo 目录下安装 sftp 插件&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;sftp&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;192.168.0.100&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;root&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;pass&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;123456&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;remotePath&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;/usr/local/nginx/html&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;22&lt;/span&gt; 		&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token comment&#34;&gt;### 然后在 _config.yml 中配置 deploy&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;B. 部署到&lt;a href=&#34;www.github.com&#34;&gt; GitHub&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; hexo-deployer-git --save  &lt;span class=&#34;token comment&#34;&gt;#先添加 git 插件&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;figcaption data-lang=&#34;YAML&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token key atrule&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;git&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;repo&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;https://github.com/ITAbyss/itabyss.github.io.git&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token key atrule&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;master&#34;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt; ]]></description>
        </item>
    </channel>
</rss>
